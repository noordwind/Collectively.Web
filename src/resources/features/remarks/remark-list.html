<template>
    <require from="resources/converters/dateFormatValueConverter"></require>
    <require from="resources/converters/truncateValueConverter"></require>
    <require from="resources/converters/distanceFormatValueConverter"></require>
    <require from="resources/converters/sortValueConverter"></require>
    <require from="resources/converters/string-capitalize-first-letter"></require>
    <require from="resources/custom-attributes/infinite-scroll"></require>
    <ul>
        <li class="remark-list-item" repeat.for="remark of remarks | sort:{propertyName: orderBy, direction: sortOrder}">            
            <a href.bind="remark.url">
              <div class="row">
                <div class="col s2 no-padding icon">
                  <img if.bind="remark.icon" src.bind="remark.icon"/>
                </div>
                <div class="col s7">
                  <div class="header">${'remark.category_'+remark.category.name | t}</div>
                  <div class="second-line address">${remark.group.name}</div>
                  <div class="second-line address">${remark.location.address}</div>
                  <div class="third-line">
                    <i if.bind="remark.state.state === 'resolved'" class="material-icons">done</i>
                    ${'remark.state_'+remark.state.state | t | stringCapitalizeFirstLetter}
                    ${remark.state.createdAt | dateFormat}
                  </div>
                </div>
                <div class="col s3 no-padding">
                  <div class="col s7 no-padding">
                    <div class="distance">
                      <i class="material-icons">near_me</i>
                      <div class="number">${remark.distance | distanceFormat}</div>
                    </div>
                  </div>
                  <div class="col s5 no-padding">
                    <div class="action">
                      <i class="material-icons">keyboard_arrow_right</i>
                    </div>
                  </div>
                </div>
              </div>
            </a>
        </li>
    </ul>
</template>
